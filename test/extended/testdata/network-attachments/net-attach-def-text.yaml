---
apiVersion: "k8s.cni.cncf.io/v1"
kind: NetworkAttachmentDefinition
metadata:
  name: net-attach-def-text
spec: 
  config: '{
            "cniVersion": "0.3.0",
            "type": "macvlan",
            "master": "eth0",
            "mode": "bridge",
            "ipam": {
                "type": "host-local",
		"ranges": [[
			  {"subnet": "192.18.0.0/24",
			   "rangeStart": "192.18.0.1",
			   "rangeEnd": "192.18.0.254"}
			   ]]
            }
        }'
---
apiVersion: v1
kind: Pod
metadata:
  name: net-attach-def-text
  annotations:
    k8s.v1.cni.cncf.io/networks: net-attach-def-text
spec:
  containers:
  - name: net-attach-def-text
    image: docker.io/centos/tools:latest
    command: [ "/bin/bash", "-c", "sleep infinity" ]

